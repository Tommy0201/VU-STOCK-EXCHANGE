<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Money</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='add.css') }}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="{{ url_for('static', filename='script.js') }}"></script>

    <style>
        /* Navigation Bar Styles */
        .navbar {
            overflow: hidden;
            background-color: #2c3e50; /* Set background color to black */
            display: flex;
            justify-content: space-between; /* Align items to the ends */
            align-items: center;
            padding: 10px;
        }

        .navbar-right {
            display: flex;
            justify-content: flex-end; /* Align items to the right */
            align-items: center;
        }

        .navbar-left {
            flex: 1;
            text-align: left;
        }

        .navbar a {
            color: #ecf0f1; /* Set text color to white */
            text-align: center;
            padding: 14px 20px;
            text-decoration: none;
        }

        .navbar a:hover {
            background-color: #34495e; /* Darken background color on hover */
            color: white;
        }

        .active {
            background-color: #3498db; /* Set active background color */
            color: white;
        }

        .logo {
            margin-left: 20px; /* Adjust margin */
            max-height: 40px; /* Adjust max height */
            max-width: 150px; /* Adjust max width */
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="#">
            <img src="https://i.ibb.co/m680bPM/v.png" alt="Logo" class="logo">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="{{ url_for('user') }}">Home <span class="sr-only">(current)</span></a>
                   
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('add_money') }}">Add Money</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Notification</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('get_news') }}">News</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('mystocks') }}">MyStocks</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container">
        <h1>Add Money</h1>
        {% for message in get_and_remove_flash_messages() %}
            <div class="flash-message {{ message.category }}">{{ message.message }}</div>
        {% endfor %}
        <form method="POST" action="{{ url_for('add_money') }}">
            <div>
                <label for="payment_method">Payment Method:</label>
                <select id="payment_method" name="payment_method">
                    <option value="credit_card">Credit Card</option>
                    <option value="bank">Bank Transfer</option>
                </select>
            </div>
            <div id="payment_fields">
                <div id="card_fields" style="display: none;">
                    <label for="card_holder_name">Card Holder Name:</label>
                    <input type="text" id="card_holder_name" name="card_holder_name" required>
                    <label for="card_number">Card Number:</label>
                    <input type="text" id="card_number" name="card_number" required>
                    <label for="expiry_date">Expiry Date:</label>
                    <input type="text" id="expiry_date" name="expiry_date" placeholder="MM/YY" required>
                    <label for="cvv">CVV:</label>
                    <input type="text" id="cvv" name="cvv" maxlength="3" required>
                </div>
                <div id="bank_fields" style="display: none;">
                    <label for="account_holder_name">Account Holder Name:</label>
                    <input type="text" id="account_holder_name" name="account_holder_name" required>
                    <label for="bank_name">Bank Name:</label>
                    <input type="text" id="bank_name" name="bank_name" required>
                    <label for="account_number">Account Number:</label>
                    <input type="text" id="account_number" name="account_number" required>
                    <label for="routing_number">Routing Number:</label>
                    <input type="text" id="routing_number" name="routing_number" required>
                </div>
                <label for="amount">Amount:</label>
                <input type="number" id="amount" name="amount" min="0" step="0.01" required>
            </div>
            <button type="submit">Add Money</button>
        </form>
        <a href="{{ url_for('user') }}">Back to User</a>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const paymentMethodSelect = document.getElementById('payment_method');
            const cardFields = document.getElementById('card_fields');
            const bankFields = document.getElementById('bank_fields');
            const cardHolderNameInput = document.getElementById('card_holder_name');
            const cardNumberInput = document.getElementById('card_number');
            const expiryDateInput = document.getElementById('expiry_date');
            const cvvInput = document.getElementById('cvv');
            const bankNameInput = document.getElementById('bank_name');
            const accountHolderNameInput = document.getElementById('account_holder_name');
            const accountNumberInput = document.getElementById('account_number');
            const routingNumberInput = document.getElementById('routing_number');

            // Initially hide the card fields
            cardFields.style.display = 'block';
            bankFields.style.display = 'none';

            paymentMethodSelect.addEventListener('change', () => {
                if (paymentMethodSelect.value === 'credit_card') {
                    cardFields.style.display = 'block';
                    bankFields.style.display = 'none';
                    cardHolderNameInput.required = true;
                    cardNumberInput.required = true;
                    expiryDateInput.required = true;
                    cvvInput.required = true;
                    bankNameInput.required = false;
                    accountHolderNameInput.required = false;
                    accountNumberInput.required = false;
                    routingNumberInput.required = false;
                } else {
                    cardFields.style.display = 'none';
                    bankFields.style.display = 'block';
                    cardHolderNameInput.required = false;
                    cardNumberInput.required = false;
                    expiryDateInput.required = false;
                    cvvInput.required = false;
                    bankNameInput.required = true;
                    accountHolderNameInput.required = true;
                    accountNumberInput.required = true;
                    routingNumberInput.required = true;
                }
            });
        });
    </script>
</body>
</html>
